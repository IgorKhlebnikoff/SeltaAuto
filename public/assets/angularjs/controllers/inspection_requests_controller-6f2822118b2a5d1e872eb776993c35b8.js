(function(){var inspectionRequestsControllers;inspectionRequestsControllers=angular.module("inspectionRequestsControllers",[]),inspectionRequestsControllers.controller("InspectionRequestsController",function($scope,$http,ngDialog){return $http.get("/inspection_requests/").success(function(data){return $scope.requests=data}),$scope.sendRequest=function(){var data;return data={inspection_request:{name:$scope.name,phone_number:$scope.phone_number,comment:$scope.comment}},$http.post("/inspection_requests",data).success(function(data){return $scope.sentRequest=data,$("#close_maintenance_form").click()})},$scope.showDetails=function(requestId,index){return $http.get("/inspection_requests/"+requestId).success(function(data){return $scope.requestDetails=data,ngDialog.open({template:"assets/angularjs/templates/inspection_requests/show.html",scope:$scope,controller:"InspectionRequestsController",className:"ngdialog-theme-default"}),$scope.requests.collection[index].viewed=data.viewed})}})}).call(this);